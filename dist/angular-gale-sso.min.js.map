{"version":3,"file":"angular-gale-sso.min.js","sources":["angular-gale-sso.js"],"names":["angular","module","run","$templateCache","put","manifiest","directive","$log","$q","$cordovaSingleSignOn","restrict","scope","onLoginSuccess","onLoginError","scopes","templateUrl","controller","$scope","$element","$timeout","vm","model","isLoading","_scopes","oauth2","$$buildAuthorization","iframe","find","attr","oauth2Url","isLoaded","bind","delay","cancel","finaly","windowElm","element","window","fn","e","origin","hostToMatch","data","indexOf","callbackUrl","unbind","parser","then","handler","$on","provider","$this","this","_appId","_ssoBaseURL","setAppId","value","setApiUrl","endsWith","$get","$Api","$Identity","$LocalStorage","self","_authResponse","_platform","ionic","Platform","isWebView","isAuthenticated","connected","access_token","getAccessToken","getAppId","Error","getApiUrl","parseFragment","uri","parsed","defer","qs","substring","split","build","tokens","j","q","text","prop","name","replace","parseInt","setTimeout","isSuccess","ok","forEach","j1","result","authResponse","status","resolve","j2","reject","error","promise","checkDependencies","dependencies","i","dependency","eval","assert","format","package","permissions","settings","_settings","join","response_type","redirect_uri","state","prompt","api_url","host_url","pathArray","protocol","host","url","callback_url","location","oauth2_url","platform","fragments","push","BuildInfo","packageName","login","SafariViewController","isAvailable","available","show","hidden","animated","handleOpenURL","hide","inApp_features","browser","cordova","InAppBrowser","open","addEventListener","close","height","width","left","screen","top","browser_features","api","query","accessToken","read","sso_url","Authorization","success","err"],"mappings":"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"}